---
const pathname = Astro.url.pathname;

const nav = [
  { label: 'Projects',      href: '/'               },
  { label: 'Illustrations', href: '/illustrations'  },
  { label: 'Photography',   href: '/photography'    },
  { label: 'About',         href: '/about'          },
];

function isActive(href: string) {
  if (href === '/') return pathname === '/';
  return pathname.startsWith(href);
}
---

<header class="sticky top-0 z-50 border-b border-neutral-200 backdrop-blur-sm font-[Chillax,sans-serif]" style="background-color: color-mix(in srgb, var(--page-bg, #DDE6F8) 90%, transparent);">
  <div class="px-6 md:px-12 h-18 flex items-center justify-between">

    <!-- Logo -->
    <a href="/" class="flex items-center gap-2.5 text-sm font-semibold text-neutral-900 hover:text-black transition-colors">
      <img src="/favicon.webp" alt="" width="22" height="22" class="rounded" />
    </a>

    <!-- Desktop Nav -->
    <nav class="hidden md:block">
      <ul class="flex items-center gap-6">
        {nav.map(({ label, href }) => (
          <li>
            <a
              href={href}
              class:list={[
                'text-sm transition-colors',
                isActive(href)
                  ? 'text-black font-semibold'
                  : 'text-neutral-700 hover:text-black',
              ]}
            >
              {label}
            </a>
          </li>
        ))}
      </ul>
    </nav>

    <!-- Mobile hamburger button -->
    <button id="menu-toggle" class="md:hidden p-1 text-neutral-700 hover:text-black" aria-label="Toggle menu">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <line x1="2" y1="5"  x2="18" y2="5"  stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        <line x1="2" y1="10" x2="18" y2="10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        <line x1="2" y1="15" x2="18" y2="15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
      </svg>
    </button>

  </div>

  <!-- Mobile dropdown menu -->
  <div id="mobile-menu" class="hidden md:hidden border-t border-neutral-200 px-6 py-4">
    <ul class="flex flex-col gap-4">
      {nav.map(({ label, href }) => (
        <li>
          <a
            href={href}
            class:list={[
              'text-sm transition-colors',
              isActive(href)
                ? 'text-black font-semibold'
                : 'text-neutral-700 hover:text-black',
            ]}
          >
            {label}
          </a>
        </li>
      ))}
    </ul>
  </div>
</header>

<script>
  const toggle = document.getElementById('menu-toggle');
  const menu = document.getElementById('mobile-menu');
  toggle?.addEventListener('click', () => {
    menu?.classList.toggle('hidden');
  });
</script>
